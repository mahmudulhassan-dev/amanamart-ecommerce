# ⚙️ ব্যাকএন্ড এবং টেকনিক্যাল ডিটেইলস (Backend Deep Dive)

এই ডকুমেন্টটি ব্যাকএন্ডের **জটিল কনফিগারেশন** এবং **কোডিং লজিক** সহজভাবে ব্যাখ্যা করার জন্য তৈরি।

## ১. ডাটাবেস কানেকশন (MySQL Configuration)

আমরা `application.properties` ফাইলে ডাটাবেস লিংক করেছি।
*   **ফাইল**: `src/main/resources/application.properties`

### কনফিগারেশন ব্যাখ্যা:
```properties
# ডাটাবেস লিংক (যদি না থাকে তবে তৈরি করবে)
spring.datasource.url=jdbc:mysql://localhost:3306/amanamart?createDatabaseIfNotExist=true

# লারাগন ডিফল্ট ইউজারনেম (পাসওয়ার্ড ফাঁকা)
spring.datasource.username=root
spring.datasource.password=

# অটোমেটিক টেবিল আপডেট (খুব গুরুত্বপূর্ণ)
spring.jpa.hibernate.ddl-auto=update
```
> **কেন এটি জরুরি?**: `ddl-auto=update` থাকার কারণে আপনাকে কষ্ট করে ম্যানুয়ালি SQL কোড লিখে টেবিল বানাতে হয় না। জাভা ক্লাস (`Product`) দেখেই অটোমেটিক টেবিল তৈরি হয়ে যায়।

---

## ২. CORS কনফিগারেশন (Security)

ফ্রন্টএন্ড (React) এবং ব্যাকএন্ড (Java) আলাদা পোর্টে চলে (5173 vs 8080)। ব্রাউজার নিরাপত্তার কারণে এক পোর্ট থেকে অন্য পোর্টে ডাটা নিতে দেয় না। একে **CORS Error** বলে।

### এটি ফিক্স করার কোড (`WebConfig.java`):
```java
registry.addMapping("/**")
       .allowedOrigins("http://localhost:5173") // শুধু আমাদের রিয়েক্ট অ্যাপকে পারমিশন দেওয়া হলো
       .allowedMethods("GET", "POST", "PUT", "DELETE");
```
> **সহজ কথা**: আমরা ব্যাকএন্ডকে বলে দিয়েছি, "যদি পোর্ট 5173 থেকে কেউ ডাটা চায়, তাকে দিও, অন্যদের দিও না।"

---

## ৩. JPA এনটিটি এবং মডেল (`Product.java`)

আমরা জাভা ক্লাসকে ডাটাবেস টেবিলে রূপান্তর করতে কিছু **অ্যানোটেশন** ব্যবহার করেছি:

*   `@Entity`: স্প্রিং বুটকে বলে দেয় যে, এই ক্লাসের নামে একটা টেবিল বানাও।
*   `@Id` ও `@GeneratedValue`: প্রতিটি প্রোডাক্টের জন্য অটোমেটিক আইডি (1, 2, 3...) তৈরি করে।
*   `@Transient`: এই ফিল্ডটি (যেমন `discount`) ডাটাবেসে সেভ হবে না, কিন্তু জাভা ক্যালকুলেশন করে ব্যবহার করবে।

---

## ৪. ডাটা সিডার (Data Seeder)

অ্যাপ রান করার সময় ডাটাবেস খালি থাকলে আমরা অটোমেটিক কিছু প্রোডাক্ট ইনসার্ট করি।
*   **ফাইল**: `DataSeeder.java`
*   **লজিক**: `if (repository.count() == 0)` -> যদি প্রোডাক্ট সংখ্যা ০ হয়, তবে ৮টি প্রোডাক্ট সেভ করো।
